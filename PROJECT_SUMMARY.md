# Marketplace MVP - –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –ø—Ä–æ–µ–∫—Ç–∞

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### Backend (Kotlin + Spring Boot 3)

1. **–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (MongoDB)**:
   - ‚úÖ User (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Keycloak)
   - ‚úÖ Product (—Ç–æ–≤–∞—Ä—ã —Å —Ñ–æ—Ç–æ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏, —Ä–µ–π—Ç–∏–Ω–≥–∞–º–∏)
   - ‚úÖ Order (–∑–∞–∫–∞–∑—ã —Å –∞–¥—Ä–µ—Å–∞–º–∏ –¥–æ—Å—Ç–∞–≤–∫–∏)
   - ‚úÖ Review (–æ—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏)
   - ‚úÖ ChatMessage (—Å–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞)

2. **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏**:
   - ‚úÖ UserRepository
   - ‚úÖ ProductRepository (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–æ–∏—Å–∫–æ–º)
   - ‚úÖ OrderRepository
   - ‚úÖ ReviewRepository
   - ‚úÖ ChatMessageRepository

3. **–°–µ—Ä–≤–∏—Å—ã**:
   - ‚úÖ UserService (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Keycloak, –∏–∑–±—Ä–∞–Ω–Ω–æ–µ)
   - ‚úÖ ProductService (CRUD, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)
   - ‚úÖ OrderService (—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏)
   - ‚úÖ ReviewService (–æ—Ç–∑—ã–≤—ã, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤)
   - ‚úÖ ChatService (WebSocket —á–∞—Ç)
   - ‚úÖ AdminService (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏)

4. **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã**:
   - ‚úÖ HomeController (–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
   - ‚úÖ ProductController (MVC + REST API)
   - ‚úÖ OrderController (REST API)
   - ‚úÖ OrderMvcController (MVC)
   - ‚úÖ ReviewController (REST API)
   - ‚úÖ ChatController (REST + WebSocket)
   - ‚úÖ FavoriteController (REST API)
   - ‚úÖ AdminController (MVC + REST API)
   - ‚úÖ SellerController (MVC)
   - ‚úÖ ErrorController

5. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**:
   - ‚úÖ SecurityConfig (Keycloak –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
   - ‚úÖ KeycloakConfig
   - ‚úÖ WebSocketConfig (SockJS + STOMP)
   - ‚úÖ CacheConfig (Caffeine)
   - ‚úÖ WebMvcConfig

6. **Security**:
   - ‚úÖ KeycloakUserService (—Ä–∞–±–æ—Ç–∞ —Å —Ç–µ–∫—É—â–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º)
   - ‚úÖ –†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å (ROLE_CUSTOMER, ROLE_SELLER, ROLE_ADMIN)
   - ‚úÖ –ó–∞—â–∏—Ç–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –ø–æ —Ä–æ–ª—è–º

### Frontend (Thymeleaf + Tailwind CSS + JavaScript)

1. **–®–∞–±–ª–æ–Ω—ã**:
   - ‚úÖ layout.html (–±–∞–∑–æ–≤—ã–π layout)
   - ‚úÖ index.html (–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏)
   - ‚úÖ products/list.html (–∫–∞—Ç–∞–ª–æ–≥ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏)
   - ‚úÖ products/detail.html (–¥–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞, —á–∞—Ç, –æ—Ç–∑—ã–≤—ã)
   - ‚úÖ orders/list.html (—Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤)
   - ‚úÖ admin/index.html (–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å)
   - ‚úÖ admin/users.html (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏)
   - ‚úÖ seller/products.html (—Ç–æ–≤–∞—Ä—ã –ø—Ä–æ–¥–∞–≤—Ü–∞)
   - ‚úÖ error.html (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—à–∏–±–æ–∫)

2. **JavaScript**:
   - ‚úÖ main.js (–æ—Å–Ω–æ–≤–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã)
   - ‚úÖ product-detail.js (–¥–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞, —á–∞—Ç, –æ—Ç–∑—ã–≤—ã)
   - ‚úÖ admin.js (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏)

3. **CSS**:
   - ‚úÖ style.css (–∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏)
   - ‚úÖ Tailwind CSS (—á–µ—Ä–µ–∑ CDN)

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

1. **Docker**:
   - ‚úÖ Dockerfile (—Å–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
   - ‚úÖ docker-compose.yml (MongoDB + Keycloak + App)

2. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**:
   - ‚úÖ application.yml
   - ‚úÖ build.gradle.kts
   - ‚úÖ settings.gradle.kts

3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**:
   - ‚úÖ README.md (–ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
   - ‚úÖ KEYCLOAK_SETUP.md (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Keycloak)

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –î–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π:
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–∞ —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ –ß–∞—Ç —Å –ø—Ä–æ–¥–∞–≤—Ü–∞–º–∏ (WebSocket)
- ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤ –∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤

### –î–ª—è –ø—Ä–æ–¥–∞–≤—Ü–æ–≤:
- ‚úÖ CRUD —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏
- ‚úÖ –û–±—â–µ–Ω–∏–µ —Å –ø–æ–∫—É–ø–∞—Ç–µ–ª—è–º–∏ —á–µ—Ä–µ–∑ —á–∞—Ç
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–¥–∞–∂

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –í—ã–¥–∞—á–∞/–æ—Ç–∑—ã–≤ —Ä–æ–ª–µ–π
- ‚úÖ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ http://localhost:8080
# Keycloak –Ω–∞ http://localhost:8081
# MongoDB –Ω–∞ localhost:27017
```

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Keycloak (—Å–º. KEYCLOAK_SETUP.md)
2. –°–æ–∑–¥–∞—Ç—å realm `marketplace`
3. –°–æ–∑–¥–∞—Ç—å client `marketplace-client`
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Google OAuth (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
5. –°–æ–∑–¥–∞—Ç—å —Ä–æ–ª–∏ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **Java Version**: 21
- **Kotlin Version**: 1.9.20
- **Spring Boot Version**: 3.2.0
- **MongoDB Version**: 7.0
- **Keycloak Version**: 23.0

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Keycloak
- –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç best practices
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- WebSocket —á–∞—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç in-memory (–±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –±—Ä–æ–∫–µ—Ä–æ–≤)
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –Ω–∞ Tailwind CSS


docker run -d \
--name cryptodrop-mongo \
-p 27017:27017 \
-e MONGO_INITDB_ROOT_USERNAME=admin \
-e MONGO_INITDB_ROOT_PASSWORD=cryptodrop2026 \
-v mongo_data:/data/db \
mongo:7.0

