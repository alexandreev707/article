<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout(title='My Orders', content=~{::content})}">
<body>
    <div th:fragment="content">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 md:py-8">
            <h1 class="text-2xl md:text-3xl lg:text-4xl font-bold mb-6 md:mb-8 text-primary-green-dark">My Orders</h1>

            <div class="card overflow-hidden">
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="gradient-soft">
                            <tr>
                                <th class="px-4 md:px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">Order ID</th>
                                <th class="px-4 md:px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">Product</th>
                                <th class="px-4 md:px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">Quantity</th>
                                <th class="px-4 md:px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">Total Price</th>
                                <th class="px-4 md:px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">Status</th>
                                <th class="px-4 md:px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">Date</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr th:each="order : ${orders}" class="hover:bg-green-50 transition-colors">
                                <td class="px-4 md:px-6 py-4 text-sm text-gray-900 font-mono" th:text="${#strings.substring(order.id, 0, 8) + '...'}">ID</td>
                                <td class="px-4 md:px-6 py-4 text-sm text-gray-900" th:text="${order.productTitle}">Product</td>
                                <td class="px-4 md:px-6 py-4 text-sm text-gray-900" th:text="${order.quantity}">1</td>
                                <td class="px-4 md:px-6 py-4 text-sm font-semibold text-primary-green-dark" th:text="'$' + ${order.totalPrice}">$0.00</td>
                                <td class="px-4 md:px-6 py-4 whitespace-nowrap">
                                    <span class="badge"
                                          th:classappend="${order.status.name() == 'DELIVERED' ? 'badge-success' : 
                                                           order.status.name() == 'CANCELLED' ? 'badge-danger' : 
                                                           order.status.name() == 'SHIPPED' ? 'badge-info' : 
                                                           'badge-warning'}"
                                          th:text="${order.status}">PENDING</span>
                                </td>
                                <td class="px-4 md:px-6 py-4 text-sm text-gray-500" th:text="${#temporals.format(order.createdAt, 'MMM dd, yyyy')}">Date</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Pagination -->
            <div class="mt-8 md:mt-12 flex flex-col sm:flex-row justify-center items-center gap-4" th:if="${totalPages > 1}">
                <a th:if="${currentPage > 0}" 
                   th:href="@{/orders(page=${currentPage - 1})}"
                   class="btn-primary text-center min-w-[120px]">← Previous</a>
                <span class="text-gray-700 font-medium px-4" th:text="'Page ' + (${currentPage} + 1) + ' of ' + ${totalPages}">Page 1 of 1</span>
                <a th:if="${currentPage < totalPages - 1}" 
                   th:href="@{/orders(page=${currentPage + 1})}"
                   class="btn-primary text-center min-w-[120px]">Next →</a>
            </div>
        </div>
    </div>
</body>
</html>
